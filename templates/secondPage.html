<!DOCTYPE html>
<html>
<head>
    <title> ì˜ ë„ì°©í–ˆì§€ë¡± ğŸŒˆ </title>
    <style>
        .matrix {
            display: block;
            margin-bottom: 20px;
        }
        .category {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
        }
        .category h3 {
            margin-top: 0;
        }
        .sub-category {
            display: inline-block;
            vertical-align: top;
            width: 45%;
            margin-right: 5%;
        }
        .sub-category:last-child {
            margin-right: 0;
        }
    </style>
</head>
<body>
    <h1> ì˜ ë„ì°©í–ˆì§€ë¡± ğŸŒˆ </h1>

    <div class="matrix">
        <div class="category">
            <h3>í•­ê³µê¶Œ</h3>
            <div class="sub-category">
                <h4>ê°€ëŠ” í¸</h4>
                <table><tr><th>í•­ê³µì‚¬</th><th>ì¢Œì„ì •ë³´</th><th>ì„±ì¸ ê¸ˆì•¡</th><th>ì¶œë°œ ì‹œê°</th><th>ì¶œë°œ ê³µí•­(ì˜ì–´)</th><th>ë„ì°© ê³µí•­(ì˜ì–´)</th><th>ì¶œë°œ ë‚ ì§œ</th><th>ë„ì°© ë‚ ì§œ</th><th>Comeback ì—¬ë¶€</th><th>ì†Œì•„ ê¸ˆì•¡</th><th>ì¶œë°œ ê³µí•­(í•œêµ­ì–´)</th><th>ë„ì°© ê³µí•­(í•œêµ­ì–´)</th><th>ê¸ˆì „ìƒí™©</th></tr>

                {% for item in data['í•­ê³µê¶Œ_to'] %}
                <table><tr><td><input type="radio" id="flightOut{{ loop.index }}" name="flightOut" value="{{ item }}"></td>{% for cell in item %}<td>{{ cell }}</td>{% endfor %}</tr></table><br>
                {% endfor %}
            </table>
            </div>
            <div class="sub-category">
                <h4>ì˜¤ëŠ” í¸</h4>
                <table><tr><th>í•­ê³µì‚¬</th><th>ì¢Œì„ì •ë³´</th><th>ì„±ì¸ ê¸ˆì•¡</th><th>ì¶œë°œ ì‹œê°</th><th>ì¶œë°œ ê³µí•­(ì˜ì–´)</th><th>ë„ì°© ê³µí•­(ì˜ì–´)</th><th>ì¶œë°œ ë‚ ì§œ</th><th>ë„ì°© ë‚ ì§œ</th><th>Comeback ì—¬ë¶€</th><th>ì†Œì•„ ê¸ˆì•¡</th><th>ì¶œë°œ ê³µí•­(í•œêµ­ì–´)</th><th>ë„ì°© ê³µí•­(í•œêµ­ì–´)</th><th>ê¸ˆì „ìƒí™©</th></tr>

                {% for item in data['í•­ê³µê¶Œ_from'] %}
                <table><tr><td><input type="radio" id="flightBack{{ loop.index }}" name="flightBack" value="{{ item }}"></td>{% for cell in item %}<td>{{ cell }}</td>{% endfor %}</tr></table><br>
                {% endfor %}
            </table>
            </div>
        </div>
        <div class="category">
            <h3>ìˆ™ë°•ì‹œì„¤</h3>
            <table><tr><th>ìˆ™ë°•ì‹œì„¤ëª…</th><th>ì§€ì—­</th><th>í‰ì </th><th>ê¸ˆì•¡</th><th>ì‹œì‘ ë‚ ì§œ</th><th>ë ë‚ ì§œ</th><th>ì¸ì› ìˆ˜</th><th>êµ¬ì²´ ì§€ì—­ëª…</th><th>ê¸ˆì „ìƒí™©</th></tr>

            {% for item in data['í˜¸í…”'] %}
            <table><tr><td><input type="radio" id="hotel{{ loop.index }}" name="hotel" value="{{ item }}"></td>{% for cell in item %}<td>{{ cell }}</td>{% endfor %}</tr></table><br>
            {% endfor %}
        </div>
        <div class="category">
            <h3>ë ŒíŠ¸ì¹´</h3>
            <table><tr><th>ì°¨ì¢…</th><th>ë¸Œëœë“œ</th><th>ì¸ìŠ¹</th><th>ì—°ë£Œ</th><th>ì˜¤í† /ìŠ¤í‹±</th><th>ë ŒíŠ¸ì¹´ íšŒì‚¬</th><th>ë‚˜ì´ ì œí•œ</th><th>ìš´ì „ ê²½ë ¥</th><th>ì—°ì‹</th><th>í‰ì </th><th>ë¦¬ë·° ìˆ˜</th><th>ê°€ê²©</th><th>ì‹œì‘ ë‚ ì§œ</th><th>ë ë‚ ì§œ</th><th>ê¸ˆì „ìƒí™©</th></tr>

            {% for item in data['ë ŒíŠ¸ì¹´'] %}
            <table><tr><td><input type="radio" id="rental{{ loop.index }}" name="rental" value="{{ item }}"></td>{% for cell in item %}<td>{{ cell }}</td>{% endfor %}</tr></table><br>
            {% endfor %}
        </div>
    </div>

    <button class="submit" onclick="submit()">ì„ íƒì™„ë£Œ</button>

    <form id="myForm" method="get" style="display: none;" action="/3í˜ì´ì§€">
        <input type="text" name="input_data" id="inputData">
        <input type="text" name="date_range" id="dateRange">
    </form>

    <script>
        function submit() {
            const selectedItems = {};
            var categories = ['flightOut', 'flightBack', 'hotel', 'rental'];
            for (var i = 0; i < categories.length; i++) {
                var radios = document.getElementsByName(categories[i]);
                for (var j = 0; j < radios.length; j++) {
                    var radio = radios[j];
                    if (radio.checked) {
                        selectedItems[categories[i]] = radio.value;
                        break;
                    }
                }
            }
            console.log(selectedItems);
            document.getElementById("inputData").value = JSON.stringify(selectedItems);
            document.getElementById("dateRange").value = "{{ date_range }}"
            document.getElementById("myForm").submit();
        }
    </script>
</body>
</html>
